<!-- Include header -->
<%- include('../partials/adminHeader') %>

<section>
  <div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card rounded">

          <form class="p-4" method="POST" action="/admin/productEdit" enctype="multipart/form-data">
            <h3 class="fw-normal mb-3 text-center">Edit Product</h3>

            <div class="mb-3">
              <label for="p_name" class="form-label">Product Name</label>
              <input type="text" required id="p_name" name="p_name" value="<%=products.p_name %>" class="form-control">
            </div>

            <div class="mb-3">
              <label for="price" class="form-label">Price</label>
              <input type="text" required id="price" name="price" value="<%=products.price %>" class="form-control">
            </div>

            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <input type="text" required id="description" name="description" value="<%=products.description %>"
                class="form-control">
            </div>

            <div class="mb-3">
              <label for="color" class="form-label">Color</label>
              <input type="text" required id="color" name="color" value="<%=products.color %>" class="form-control">
            </div>

            <div class="mb-3">
              <label for="selectcategory" class="form-label">Category*</label>
              <select name="selectcategory" class="form-select">
                <option selected>Select the category</option>
                <% categorydata.forEach((category) => { %>
                <option name="<%= category.categoryName %>" value="<%= category.categoryName %>"><%= category.categoryName %></option>
                <% }) %>
              </select>
            </div>

            <div class="mb-3">
              <label for="productStock" class="form-label">Stock</label>
              <input type="text" required id="productStock" name="productStock" value="<%=products.productStock %>"
                class="form-control">
            </div>

            <input type="hidden" required id="_id" name="_id" value="<%=products._id %>" class="form-control">

            <div class="mb-3">
              <label for="image" class="form-label">Category Image Upload</label>
              <input class="form-control" name="image" type="file" id="formFileMultiple" multiple>
            </div>

            <div class="text-center">
              <button type="submit" class="btn btn-dark">SAVE</button>
            </div>

            <% if(locals.message){ %>
            <div class="alert alert-danger text-center mt-3" role="alert">
              <%= message %>
            </div>
            <% } %>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Include footer -->
